<!DOCTYPE html>
<html>
  <head>
    <title>Databank</title>
    <meta charset="UTF-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>

  <body class="bg-light">
    {% block content %}
    <div class="container mt-5">
      <div class="card shadow rounded border-primary">
        <h1 class="text-center display-4 mb-4" style="margin-top: 20px">
          Databank
        </h1>
        <div class="card-body">
          <form action="/graph" method="post">
            {#type of device #}
            <div class="row mb-3">
              <div class="col-sm-12">
                <div class="card shadow rounded border-primary text-center">
                  <div class="card-header bg-primary text-white">
                    <b>Step 1:</b> Type of Device
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Choose type of device</h5>
                    {% for (index, data) in type_device %}
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="type_device"
                        id="type_device{{ index }}"
                        value="{{data}}"
                        required
                      />
                      <label
                        class="form-check-label"
                        for="type_device{{ index }}"
                      >
                        {{data}}
                      </label>
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>

            <br />

            {# cate_raw #}

            <div class="row mb-3">
              <div class="col-sm-12">
                <div class="card shadow rounded border-primary text-center">
                  <div class="card-header bg-primary text-white">
                    <b>Step 2: </b>Category of Raw Data
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Choose Category of Raw Data</h5>
                    {% for (index, data) in cate_raw_data %}
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="cate_raw_data"
                        id="cate_raw_data_{{index}}"
                        value="{{data}}"
                        required
                      />
                      <label
                        class="form-check-label"
                        for="cate_raw_data_{{index}}"
                        >{{data}}</label
                      >
                    </div>
                    {%endfor%}
                  </div>
                </div>
              </div>
            </div>

            <br />

            {# cate service #}
            <div class="row mb-3">
              <div class="col-sm-12">
                <div class="card shadow rounded border-primary text-center">
                  <div class="card-header bg-primary text-white">
                    <b>Step 3: </b>Category of Service
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Choose Category of Service</h5>
                    {% for (index, data) in cate_service %}
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="cate_service"
                        id="cate_service_{{index}}"
                        value="{{data}}"
                        required
                      />
                      <label
                        class="form-check-label"
                        for="cate_service_{{index}}"
                        >{{data}}</label
                      >
                    </div>
                    {%endfor%}
                  </div>
                </div>
              </div>
            </div>

            <br />

            {# action #}

            <div class="row mb-3">
              <div class="col-sm-12">
                <div class="card shadow rounded border-primary text-center">
                  <div class="card-header bg-primary text-white">
                    <b>Step 4: </b>Actions
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Choose Actions</h5>
                    {% for (index, data) in action %}
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="action_choice"
                        id="action_{{index}}"
                        value="{{data}}"
                        required
                      />
                      <label class="form-check-label" for="action_{{index}}"
                        >{{data}}</label
                      >
                    </div>
                    {%endfor%}
                    <div id="action_detail_div" style="display: none">
                      <hr />
                      <h5 class="card-title">Customised by Time</h5>
                      {% for (index, data) in action_detail %}
                      <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="action_detail"
                          id="detail_action_{{index}}"
                          value="{{data}}"
                          required
                        />
                        <label
                          class="form-check-label"
                          for="detail_action_{{index}}"
                          >{{data}}</label
                        >
                      </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <br />

            {# service type#}
            <div class="row mb-3">
              <div class="col-sm-12">
                <div class="card shadow rounded border-primary text-center">
                  <div class="card-header bg-primary text-white">
                    <b>Step 5: </b>Type of Servies
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">Choose Type of Servies</h5>
                    {% for (index, data) in service_type %}
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="service_type"
                        id="inlineRadio1"
                        value="{{data}}"
                        required
                      />
                      <label class="form-check-label" for="inlineRadio1"
                        >{{data}}</label
                      >
                    </div>
                    {%endfor%}
                  </div>
                </div>
              </div>
            </div>

            <br />

            <div class="container text-center">
              <button type="submit" class="btn btn-primary" value="submit">
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    {% endblock%}
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script>
    $("input[id^='action_']").click(() => {
      // check all button start with "action_" is clicked
      console.log("action_button click!!");
      var content = $("#action_detail_div");
      if (content.css("display") === "none") {
        content.show();
      }
    });

    $(document).ready(function () {
      $("#detail_action_3").prop("checked", true); // set default value for action detail.
    });
  </script>
</html>
